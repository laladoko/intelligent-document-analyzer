# GraphRAG 功能界面说明

## 🎯 概述

您的企业文档智能分析系统已成功集成了微软 GraphRAG (基于图的检索增强生成) 功能，提供更高级的知识图谱构建和智能问答能力。

## 🌐 访问方式

### 主要入口
- **GraphRAG 专用页面**: [http://localhost:3000/graphrag](http://localhost:3000/graphrag)
- **从主页访问**: 点击紫色的 "GraphRAG 知识图谱" 按钮
- **从知识库页面访问**: 点击右上角的紫色 "GraphRAG" 按钮

## 🔧 核心功能

### 1. 状态监控面板
四个状态卡片显示系统关键信息：
- **GraphRAG 可用性**: 显示系统是否正常安装和配置
- **API 密钥**: 检查 OpenAI API 密钥配置状态
- **索引状态**: 显示知识图谱索引是否已构建
- **工件数量**: 显示已生成的索引文件数量

### 2. 索引管理
- **文档选择**: 从现有文档中选择要构建索引的内容
- **构建索引**: 启动 GraphRAG 知识图谱构建流程
- **删除索引**: 清理已构建的索引文件
- **进度跟踪**: 实时显示索引构建进度

### 3. 智能搜索功能
提供三种搜索模式：

#### 全局搜索 (Global Search)
- 适合：概览性问题和广泛主题
- 特点：整合多个文档信息，提供全局视角

#### 本地搜索 (Local Search)
- 适合：具体细节查询和特定实体
- 特点：基于实体关系进行精确匹配

#### 混合搜索 (Hybrid Search) - 推荐
- 适合：大多数查询场景
- 特点：结合全局和本地搜索的优势

## 📚 后端 API 接口

系统提供完整的 GraphRAG REST API：

### 状态检查
```http
GET /api/graphrag/status
GET /api/graphrag/health
GET /api/graphrag/info
```

### 索引管理
```http
POST /api/graphrag/build-index
DELETE /api/graphrag/index
```

### 搜索功能
```http
POST /api/graphrag/search
```

## 🔥 技术特性

### Microsoft GraphRAG 集成
- **知识图谱构建**: 自动从文档中提取实体和关系
- **实体提取**: 识别人物、组织、地点、概念等关键实体
- **关系分析**: 构建实体间的语义关系网络
- **社区检测**: 发现相关内容的聚类和层次结构
- **多文档推理**: 跨文档进行复杂推理和问答

### 技术架构
- **前端**: Next.js 15.1.6 + React + TypeScript + Tailwind CSS
- **后端**: FastAPI + Python 3.13 + SQLAlchemy
- **AI 引擎**: OpenAI GPT-4o
- **图数据库**: Microsoft GraphRAG 专用存储
- **知识图谱**: 实体-关系-社区三层架构

## 🚀 使用流程

### 第一步：准备工作
1. 确保系统正常运行
2. 配置 OpenAI API 密钥
3. 上传并分析文档 (通过主页面)

### 第二步：构建知识图谱
1. 访问 GraphRAG 页面
2. 选择要构建索引的文档
3. 点击"构建索引"按钮
4. 等待索引构建完成 (通常需要几分钟到几十分钟)

### 第三步：智能问答
1. 在搜索框中输入您的问题
2. 选择合适的搜索类型
3. 点击"开始搜索"
4. 查看详细的分析结果

## 💡 使用建议

### 适用场景
- **企业知识管理**: 构建企业知识图谱
- **复杂文档分析**: 多文档关联分析
- **智能问答系统**: 基于图结构的精准问答
- **内容发现**: 发现文档间的隐含关系

### 最佳实践
1. **文档准备**: 上传高质量、结构化的文档
2. **索引策略**: 根据内容相关性选择文档构建索引
3. **查询技巧**: 使用具体而清晰的问题描述
4. **搜索模式**: 大多数情况下推荐使用混合搜索

## 🔒 权限说明

- **游客用户**: 无法访问 GraphRAG 功能
- **注册用户**: 可以使用所有 GraphRAG 功能
- **管理员**: 拥有索引删除等管理权限

## 🛠️ 故障排除

### 常见问题
1. **API 密钥未配置**: 在 `backend/.env` 中设置 `OPENAI_API_KEY`
2. **索引构建失败**: 检查文档格式和网络连接
3. **搜索无结果**: 确保已构建索引且文档包含相关内容

### 技术支持
- **日志查看**: 使用 `./logs.sh` 查看详细日志
- **系统状态**: 使用 `./status.sh` 检查系统状态
- **重新启动**: 使用 `./stop.sh` 和 `./start.sh` 重启系统

## 🎯 开发信息

- **开发者**: 徐洪森 (laladoko)
- **GitHub**: https://github.com/laladoko
- **GraphRAG 项目**: https://github.com/microsoft/graphrag
- **技术文档**: https://microsoft.github.io/graphrag/

## 📈 系统优势

### 相比传统 RAG 的优势
1. **更好的全局理解**: 通过知识图谱获得文档集的整体视图
2. **精确的实体关系**: 基于图结构的实体关系分析
3. **多跳推理**: 支持复杂的多步推理查询
4. **社区发现**: 自动发现相关内容聚类

### 企业级特性
- **可扩展性**: 支持大规模文档集合
- **准确性**: 基于图结构的精确检索
- **灵活性**: 多种搜索模式适应不同需求
- **可视化**: 清晰的状态监控和结果展示

---

🎉 现在您可以享受先进的 GraphRAG 知识图谱功能，体验下一代智能文档分析和问答系统！ 